% This is LLNCS.DEM the demonstration file of
% the LaTeX macro package from Springer-Verlag
% for Lecture Notes in Computer Science,
% version 2.4 for LaTeX2e as of 16. April 2010
%
\documentclass{llncs}

% allows for temporary adjustment of side margins
\usepackage{chngpage}

% just makes the table prettier (see \toprule, \bottomrule, etc. commands below)
\usepackage{booktabs}

\usepackage[utf8]{inputenc}
%\usepackage[font=small,skip=0pt]{caption}

% footnotes
\usepackage{scrextend}

% colors
\usepackage[usenames, dvipsnames]{color}

% underline
\usepackage{tikz}
\newcommand{\udensdot}[1]{%
    \tikz[baseline=(todotted.base)]{
        \node[inner sep=1pt,outer sep=0pt] (todotted) {#1};
        \draw[densely dotted] (todotted.south west) -- (todotted.south east);
    }%
}%

\newcommand{\uloosdot}[1]{%
    \tikz[baseline=(todotted.base)]{
        \node[inner sep=1pt,outer sep=0pt] (todotted) {#1};
        \draw[loosely dotted] (todotted.south west) -- (todotted.south east);
    }%
}%

\newcommand{\udash}[1]{%
    \tikz[baseline=(todotted.base)]{
        \node[inner sep=1pt,outer sep=0pt] (todotted) {#1};
        \draw[dashed] (todotted.south west) -- (todotted.south east);
    }%
}%

\newcommand{\udensdash}[1]{%
    \tikz[baseline=(todotted.base)]{
        \node[inner sep=1pt,outer sep=0pt] (todotted) {#1};
        \draw[densely dashed] (todotted.south west) -- (todotted.south east);
    }%
}%

\newcommand{\uloosdash}[1]{%
    \tikz[baseline=(todotted.base)]{
        \node[inner sep=1pt,outer sep=0pt] (todotted) {#1};
        \draw[loosely dashed] (todotted.south west) -- (todotted.south east);
    }%
}%

% URL handling
\usepackage{url}
\urlstyle{same}

%\usepackage{makeidx}  % allows for indexgeneration

%\usepackage{amsmath}
\usepackage{amsmath, amssymb}
\usepackage{mathabx}
\usepackage{caption} 
\captionsetup[table]{skip=10pt}

% monospace within text
\newcommand{\ms}[1]{\texttt{#1}}

% examples
\usepackage{fancyvrb}
\DefineVerbatimEnvironment{ex}{Verbatim}{numbers=left,numbersep=2mm,frame=single,fontsize=\scriptsize}

\usepackage{xspace}
% Einfache und doppelte Anfuehrungszeichen
\newcommand{\qs}{``} 
\newcommand{\qe}{''\xspace} 
\newcommand{\sqs}{`} 
\newcommand{\sqe}{'\xspace} 

% checkmark
\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 

% Xs
\usepackage{pifont}

% Tabellenabstände kleiner
\setlength{\intextsep}{10pt} % Vertical space above & below [h] floats
\setlength{\textfloatsep}{10pt} % Vertical space below (above) [t] ([b]) floats
% \setlength{\abovecaptionskip}{0pt}
% \setlength{\belowcaptionskip}{0pt}

\usepackage{tabularx}
\newcommand{\hr}{\hline\noalign{\smallskip}} % für die horizontalen linien in tabellen

% Todos
\usepackage[colorinlistoftodos]{todonotes}
\newcommand{\ke}[1]{\todo[size=\small, color=red!40]{\textbf{Kai:} #1}}
\newcommand{\tb}[1]{\todo[size=\small, color=green!40]{\textbf{Thomas:} #1}}
\newcommand{\er}[1]{\todo[size=\small, color=blue!40]{\textbf{Erman:} #1}}

\newenvironment{table-1cols}{
  \scriptsize
  \sffamily
  \vspace{0.3cm}
  \begin{tabular}{l}
  \hline
  \textbf{Requirements} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\newenvironment{table-2cols}{
  \scriptsize
  \sffamily
  \vspace{0.3cm}
  \begin{tabular}{l|l}
  \hline
  \textbf{Requirements} & \textbf{Covering DSCLs} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\newenvironment{complexity}{
  %\scriptsize
  %\sffamily
  %\vspace{0.3cm}
  \begin{tabular}{l|l}
  \hline
  \textbf{Complexity Class} & \textbf{Complexity} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\newenvironment{DL}{
  %\scriptsize
  %\sffamily
  \vspace{0cm}
	\begin{center}
  \begin{tabular}{c l}

}{
  \end{tabular}
	\end{center}
}


\newenvironment{evaluation}{
  %\scriptsize
  %\sffamily
  %\vspace{0.3cm}
  \begin{tabular}{l|c|c|c|c|c|c}
  \hline
  \textbf{Constraint Class} & \textbf{DSP} & \textbf{OWL2-DL} & \textbf{OWL2-QL} & \textbf{ReSh} & \textbf{ShEx} & \textbf{SPIN} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\newenvironment{constraint-languages-complexity}{
  %\scriptsize
  %\sffamily
  %\vspace{0.3cm}
  \begin{tabular}{l|c|c|c|c|c|c}
  \hline
  \textbf{Complexity Class} & \textbf{DSP} & \textbf{OWL2-DL} & \textbf{OWL2-QL} & \textbf{ReSh} & \textbf{ShEx} & \textbf{SPIN} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\newenvironment{user-fiendliness}{
  %\scriptsize
  %\sffamily
  %\vspace{0.3cm}
  \begin{tabular}{l|c|c|c|c|c}
  \hline
  \textbf{criterion} & \textbf{DSP} & \textbf{OWL2} & \textbf{ReSh} & \textbf{ShEx} & \textbf{SPIN} \\
  \hline

}{
  \hline
  \end{tabular}
  \linebreak
}

\setcounter{secnumdepth}{5}

% tables
\usepackage{array,graphicx}
\usepackage{booktabs}
\usepackage{pifont}
\newcommand*\rot{\rotatebox{90}}
\newcommand*\OK{\ding{51}}
\usepackage{booktabs}
\newcommand*\ON[0]{$\surd$}

\usepackage{tablefootnote}

\usepackage{float}

\begin{document}
\renewcommand{\arraystretch}{1.3}
%
%
%\title{RDF Validation of Metadata \\ on Person-Level and Aggregated Data}
%\title{RDF Constraints to Ensure High Quality \\ of Metadata and Data Represented by any Vocabulary }
%\title{RDF Constraints to Ensure High Quality \\ of Metadata and Data}
\title{RDF Constraints Classification Ensuring \\ High Quality of Metadata and Data}
\subtitle{}

\titlerunning{XXXXX}  % abbreviated title (for running head)
%                                     also used for the TOC unless
%                                     \toctitle is used
%
\author{Thomas Bosch\inst{1} \and Benjamin Zapilko\inst{1} \and Joachim Wackerow\inst{1} \and Kai Eckert\inst{2}}
%
\authorrunning{} % abbreviated author list (for running head)
%
%%%% list of authors for the TOC (use if author list has to be modified)
\institute{GESIS – Leibniz Institute for the Social Sciences, Germany\\
\email{\{firstname.lastname\}@gesis.org},\\ 
\and
University of Mannheim, Germany \\
\email{kai@informatik.uni-mannheim.de} 
}

\maketitle              % typeset the title of the contribution

\begin{abstract}
For research institutes, data libraries, and data archives,
RDF data validation according to predefined constraints is a much sought-after feature, 
particularly as this is taken for granted in the XML world.
%The data most often used in research within the community around research data for the social, behavioural, and economic sciences (\emph{SBE}) is person-level data, i.e., data collected about individuals (households, businesses). 
%%The DDI-RDF Discovery Vocabulary is used to describe and to discover this kind of research data.
%While performing research, the detailed, often access restricted person-level
%data is aggregated into less confidential publicly available multi-dimensional tables which answer particular research questions and whose purpose is to gain an interest in further more detailed analyses on the underlying person-level data.
To ensure high quality and trust, metadata and data must satisfy certain criteria - specified in terms of RDF constraints. 
%From 2012 to 2015 together with other Linked Data community members and \emph{SBE} experts, we developed diverse vocabularies to represent \emph{SBE} metadata and data in RDF.

In this paper, we propose a system to classify RDF constraints and RDF constraint types, which in most cases correspond to RDF validation requirements.
Constraints are instantiated from constraint types in order to validate both metadata and data independently from used vocabularies. 
Within the context of a complex and complete real world running example within the community around research data for the \emph{social, behavioural, and economic (SBE) sciences}, we prove the claim that the developed classification system perfectly applies for diverse vocabularies.
We show how data in rectangular format and metadata on person-level or more generally record-unit data sets (i.e., data about individuals, households, businesses), aggregated data sets, thesauri, and statistical classifications are represented in RDF and how therefore reused vocabularies are interrelated.
We explain how \emph{SBE} (meta)data is validated against constraints to ensure high quality and trust.
We exhaustively evaluated the metadata quality of large real world aggregated, person-level, and thesauri data sets (more than 4.2 billion triples and 15 thousand data sets) by means of constraints of the majority of constraint types.
\tb{DCAT und XKOS nur in future work}
\keywords{RDF Validation, RDF Constraints, DDI-RDF Discovery Vocabulary, RDF Data Cube Vocabulary, Rectangular Data, SKOS, XKOS, Linked Data, Semantic Web}
\end{abstract}

\section{Introduction}

%\tb{terminology: data in singular form / data set - NOT dataset / person-level data - NOT microdata / study - NOT survey}

For more than a decade, members of the community around research data for the \emph{social, behavioural, and economic (SBE) sciences} have been developing and using a
metadata standard (composed of almost twelve hundred metadata fields) known as the \emph{Data Documentation Initiative (DDI)} \cite{Vardigan2008}.
\emph{DDI} is an XML format designed to support the dissemination, management,
and reuse of the data collected and archived for research purposes.  
%DDI is heavily used by the CESSDA community of European national data archives, 
%the International Household Survey Network community (made up of more than 90 statistical agencies),
%and ICPSR - the largest SBE data archive in the US.
Increasingly, data professionals, data archives, data libraries, government statisticians (e.g. \url{data.gov}, \url{data.gov.uk}), and national statistical institutes
are very interested in having their data be discovered and used by providing their metadata (e.g. about unemployment rates or income) on the web in form of RDF.
Recently, members of the SBE and Linked Data community developed the \emph{DDI-RDF Discovery Vocabulary (Disco)}\footnote{\url{http://rdf-vocabulary.ddialliance.org/discovery.html}}, 
an effort to leverage the mature DDI metadata model for the purposes of exposing DDI metadata as resources within the Web of Linked Data. 

For data archives, research institutes, and data libraries,
RDF data validation according to predefined constraints is a much sought-after feature, 
particularly as this is taken for granted in the XML world as DDI-XML documents are validated against diverse XSDs\footnote{\label{fnt:DDI-XSDs}\url{http://www.ddialliance.org/Specification/}} (section \ref{related-work}).
Several approaches exist to meet this requirement, ranging from using \emph{OWL 2} as a constraint language to \emph{SPIN}\footnote{\url{http://spinRDF.org/}}, a SPARQL-based way to formulate and check constraints. 
There are also constraint languages like \emph{Shape Expressions}, \emph{Resource Shapes} or \emph{Description Set Profiles} that more or less explicitly address the \emph{SBE} community.
In 2013, the W3C organized the RDF Validation Workshop\footnote{\url{http://www.w3.org/2012/12/rdf-val/}}, 
where experts from industry, government, and academia discussed first use cases for RDF constraint formulation and RDF data validation.
In 2014, two working groups on RDF validation have been established to develop a language to express constraints on RDF data: 
the W3C RDF Data Shapes working group\footnote{\url{http://www.w3.org/2014/rds/charter}} and the DCMI RDF Application Profiles task group\footnote{\url{http://wiki.dublincore.org/index.php/RDF-Application-Profiles}}. 

Bosch and Eckert \cite{BoschEckert2014} collected the findings of these working groups and initiated a database of RDF validation requirements
which is available for contribution at \url{http://purl.org/net/rdf-validation}.
The intention is to collaboratively collect case studies, use cases, requirements, and solutions regarding RDF validation in a comprehensive and structured way. 
The requirements are classified to better evaluate existing solutions and each requirement is directly mapped to a constraint type which may be expressed by at least one existing constraint language.
Bosch and Eckert \cite{BoschEckert2014-2} \tb{why do we use spin?not the best for constraint language, but for validating / akzeptierte beste form constraints zu definieren}use SPIN as basis to define a
validation environment (available at \url{http://purl.org/net/rdfval-demo}) in which the validation of any constraint language\footnote{The only limitation is that constraint languages must be represented in RDF} can be implemented by representing them in SPARQL. 
The SPIN engine checks for each resource if it satisfies all constraints, which are associated with its assigned classes, and generates a result RDF graph containing information about all constraint violations.

%This paper aims to address two main \textbf{audiences}: 
%(1) metadata practitioners seeking for how to represent metadata and data on different aggregation levels in RDF and
%(2) metadata providers and harvesters ensuring high quality data and metadata by validating RDF data according to certain constraints.

The main \textbf{contribution} of this paper is the development of a system to classify RDF constraints and RDF constraint types, which in most cases correspond to RDF validation requirements\footnote{For simplicity reasons, we use the terms \emph{constraint types} and \emph{constraints} instead of \emph{RDF constraint types} and \emph{RDF constraints} in the rest of the paper} (section \ref{classification}).
We propose an extensible metric to measure the continuum of severity levels to indicate how serious the violation of given constraints is.
Constraints are instantiated from constraint types in order to validate both metadata and data represented by any vocabulary. 
As constraint types are used to define constraints on (meta)data expressed by any vocabulary, the proposed constraint classification can be applied generically, i.e. vocabulary-independent. 
Within the context of a complex and complete real world running example from the \emph{SBE} domain, we prove the claim that the developed classification system perfectly applies for diverse vocabularies.
%, i.e., that it does not matter which vocabularies are used to represent (meta)data and for which domains constraints are defined.
We describe why RDF validation is important for the \emph{SBE} community (section \ref{motivation}), 
how data in rectangular format (expressed by the \emph{PHDD} vocabulary) and metadata on person-level data sets (\emph{Disco}), aggregated data sets (\emph{QB}), thesauri (\emph{SKOS}), and statistical classifications (\emph{XKOS}) are represented in RDF, and how therefore reused vocabularies are interrelated (section \ref{rdf-representation}).
We explain how \emph{SBE} (meta)data is validated against constraints, instantiated from constraint types organized in the constraint classification system, to ensure high quality of and trust in (meta)data.

We evaluate a huge amount of metadata and data represented by multiple vocabularies in order to get an understanding which kind of constraints are violated to which extend and which constraint associated with particular severity levels are mostly violated for which vocabularies.

%The remainder of the paper is structured as follows.
For the extensive evaluation, we implemented 53 constraint types by instantiating 213 constraints on \emph{Disco}, \emph{QB}, \emph{SKOS}, \emph{XKOS}, and \emph{PHDD} data sets (section \ref{implementation}).
First, several \emph{SBE} domain experts evaluated the correctness (i.e., the gold standard) of all constraints and therefore the generic applicability of the developed constraint classification system. 
Second, we exhaustively evaluated the metadata quality of large real world aggregated (\emph{QB}), person-level (\emph{Disco}), and thesauri (\emph{SKOS}) data sets (more than 4.2 billion triples and 15 thousand data sets) by means of constraints of the majority of constraint types (section \ref{evaluation}).

\section{Motivation}
\label{motivation}

The data most often used in research within the SBE community is \emph{person-level data}, i.e. data collected about individuals, businesses, and households, in form of responses to studies or taken from administrative registers
(such as hospital records, registers of births and deaths). 
The range of person-level data is very broad - 
including census, education, and health data as well as all types of business, social, and labor force surveys.  
This type of research data is
held within data archives or data libraries after it has been collected, so that it may be
reused by future researchers. 
In performing their research, the detailed person-level
data is aggregated into less confidential multi-dimensional tables which answer particular research questions.
Portals harvest metadata (as well as publicly available data) from multiple data providers in form of RDF.
To ensure high quality, the metadata must satisfy certain criteria - specified in terms of RDF constraints.  
After validating the metadata according to these constraints, portals offer added values to their customers, e.g., by searching over and comparing metadata of multiple providers. 

By its nature, person-level data is highly confidential and access is often only permitted for qualified researchers who must apply for access. 
The purpose of publicly available aggregated data, on the other hand, is to get a first overview and to gain an interest in further analyses on the underlying person-level data.
Researchers typically represent their results as aggregated data in form of two-, three-, or four-dimensional tables with only a few columns (so-called \emph{variables} such as \emph{sex} or \emph{age}).
The \emph{RDF Data Cube Vocabulary (QB)}\footnote{http://www.w3.org/TR/vocab-data-cube/} is a W3C recommendation for representing metadata on \emph{data cubes}, i.e. multi-dimensional aggregated data, in RDF \cite{Cyganiak2010}. 
Aggregated data is derived from person-level data by statistics on groups or aggregates such as frequencies and arithmetic means.
%The SDMX metadata standard – used as the basis for \emph{QB} – and DDI have traditionally made efforts to align their content. 
%Similarly, some of the developers of \emph{Disco} were also involved in the development of \emph{QB}, 
%allowing the RDF versions of these standards to retain that alignment.
While \emph{Disco} and \emph{QB} provide terms for the description of data sets, 
both on a different level of aggregation, 
the \emph{Data Catalog Vocabulary (DCAT)}\footnote{\url{http://www.w3.org/TR/vocab-dcat/}} enables the representation of these data sets inside of data collections like repositories, catalogs, or archives. 
The relationship between data collections and their contained data sets is useful, since such collections are a typical entry point when searching for data.
%Although, in most cases aggregated data is still published in form of PDFs, 
%it is more and more common to publish aggregated data as CSV files,
Aggregated data is more and more published as CSV files,
allowing to perform first data calculations.
%For these calculations, definitions of the columns are needed (e.g. is a given variable interpreted numerically or as a string).
In 2014, SBE and Linked Data community members developed the \emph{Physical Data Description (PHDD)}\footnote{\url{https://github.com/linked-statistics/physical-data-description}} vocabulary to represent data in a rectangular format.\tb{tabular data} 
The data could be either represented in records with character-separated values (CSV) or in records with fixed length. 

For more detailed analyses, researchers refer to person-level data from which aggregated data is derived from, 
as person-level data include additional variables needed for further research.
%Although not that common, the other direction is also possible, 
%i.e. researchers may use metadata on person-level data to search for aggregated data.
One very common example for detailed analyses on person-level data is the content-driven comparison of multiple studies.
A \emph{study} represents the process by which a data set was generated or collected.
Eurostat\footnote{\url{http://ec.europa.eu/eurostat}} is the statistical office of the European Union. Its task is to provide statistics at European level that enable comparisons between countries and regions.
Eurostat provides publicly available European aggregated data (downloadable as CSV files) and its metadata.
This way, researchers get promising findings (in form of published tables with a few columns).

We use the availability of childcare services in European Union Member States by year, duration, and child age leading to subsequent research questions as running example of this paper.\tb{nochmals drüber schauen}
%The first step is to determine in which countries the unemployment rate is collected and which other variables of each country-specific study are theoretically comparable and can therefore be used to answer the underlying research question.
The variable \emph{formal childcare}\footnote{The data set is available at: \url{http://ec.europa.eu/eurostat/web/products-datasets/-/ilc_caindformal}} (in contrast to childcare at home)
captures the measured availability of childcare services in percent over the population.
The present data collection refers to data on formal childcare by the variables \emph{year}, \emph{duration} (in hours per week), \emph{age} of the child, and \emph{country}.
Variables are constructed out of values (of one or multiple datatypes) and/or code lists.
The variable \emph{age}, e.g., may be represented by values of the datatype \emph{xsd:nonNegativeInteger}, or by a code list including multiple age clusters (such as '0 to 10' and '11 to 20'). 

To determine if variables measuring \emph{age}\tb{vielleicht zu den letzten paragraphen hinzufügen} 
- collected for different countries (\emph{$age_{DE}$}, \emph{$age_{UK}$}) - 
are comparable, both content-driven and technology-driven constraints are validated.
Content-driven constraints ensure that the data is consistent with the intended syntax, semantics, and integrity of vocabularies' data models and 
technology-driven constraints can be generated completely automatically out of vocabularies' data models. 
Examples for content-driven constraints are to investigate (1) if variables are represented in a compatible way,
i.e. are the variables' code lists theoretically comparable, and (2) if variables' code lists are properly structured.
With technology-driven constraints, it can be validated (1) if variable definitions are available and (2) if for each code an associated category (a human-readable label) is specified.

%\textbf{Data validation.}
Data providers and harvesters do not only offer metadata but also publicly available data on different level of aggregation.
To ensure high data quality, they have to check provenance information and to analyze and therefore validate the data according to predefined constraints (e.g. 'are fundamental data fragments available?', and 'how does valid data look like?'). 
%They validate, e.g., if fundamental data parts are available and define how valid data should look like (using syntactic rules).
%Provenance (where does the data come from?) is an important aspect in evaluating data quality.
%As data searchers know exactly which data sources they trust and which are reasonable to meet their individual use cases, 
%RDF data validation can only be performed semi-automatically, i.e., an automatic approach serves as basis for intellectual decisions. 

%\section{Running Example}
%\label{running-example}
\section{Vocabularies to Represent Metadata and Data in RDF}
\label{rdf-representation}

In this section, we describe how data in rectangular format (\emph{PHDD}) and metadata on person-level data sets (\emph{Disco}), aggregated data sets (\emph{QB}), thesauri (\emph{SKOS}), and statistical classifications (\emph{XKOS}) are represented in RDF\footnote{The complete running example in RDF is available at: \url{https://github.com/boschthomas/rdf-validation/tree/master/data/running-example}} and how therefore reused vocabularies are interrelated.

\textbf{Metadata on Aggregated Data.}
The vocabulary \emph{QB} represents metadata on multi-dimensional aggregate data in two files, a \emph{qb:DataSet} and a \emph{qb:DataStructureDefinition}.
The \emph{qb:DataStructureDefinition} contains metadata of the present data collection.
Thereby, the variable \emph{formal childcare} is modelled as \emph{qb:measure}, since it stands for what has been measured in the data collection.
The variables \emph{year}, \emph{duration}, \emph{age}, and \emph{country} are defined as \emph{qb:dimension}.
Data values, i.e., the availability of childcare services in percent over the population, are collected in a \emph{qb:DataSet}. 
Each data value is represented inside a \emph{qb:Observation} which additionally contains values for each dimension 
(e.g., the year in which \emph{formal childcare} has been determined).

\textbf{Rectangular Data.}
\emph{PHDD} represents data in a rectangular format in RDF. 
The data could be either represented in records with character-separated values (CSV) or fixed length. 
Eurostat provides the two-dimensional table about \emph{formal childcare} in form of a CSV file. 
The \emph{phdd:Table} is structured by a table structure (\emph{phdd:TableStructure}, \emph{phdd:Delimited}).
The table structure includes information about the character set (\emph{ASCII}), the variable delimiter (\emph{,}), the new line marker (\emph{CRLF}), and the first line where the data starts (\emph{2}).
The table structure is related to table columns (\emph{phdd:Column}) which are described by column descriptions (\emph{phdd:DelimitedColumnDescription}).
For the column containing the cell values in percent, the column position (\emph{5}), the recommended data type (\emph{xsd:nonNegativeInteger}), and the storage format (\emph{TINYINT}) is stated. 
The RDFication enables further aggregations and calculations, e.g., in order to compare \emph{formal childcare} between Northern and Southern Europe or between otherwise grouped countries.
% macht mehr sinn wenn Tabelle in mehreren Dimensionen vorhanden ist ode wenn Klassifikationen wie ISCO verwendet werden 

\textbf{Metadata on Person-Level Data.}
For a broader view of the data framework and more detailed analyses we refer to the metadata on person-level data collected for the series \emph{EU-SILC (European Union Statistics on Income and Living Conditions)}\footnote{\url{http://www.gesis.org/missy/eu/metadata/EU-SILC}} 
published by the \emph{Microdata Information System (MISSY)}\footnote{\url{http://www.gesis.org/missy/eu/missy-home}}.
Where data collection is cyclic, data sets may be released as \emph{series}, 
where each cycle of the data collection activity produces one or more data sets. 
\emph{Missy} is an online service platform that provides systematically structured metadata for official statistics on European person-level data sets. 
%This includes data documentation at the study and variable level as well as documentation materials, tools and further information. 
Aggregated (qb:DataSet) and underlying person-level data sets (\emph{disco:LogicalDataSet}) are connected by \emph{prov:wasDerivedFrom}. 
The aggregated variable \emph{formal childcare} is calculated on the basis of six person-level variables like 
\emph{Education at pre-school}\footnote{\url{http://www.gesis.org/missy/eu/metadata/EU-SILC/2011/Cross-sectional/original#2011-Cross-sectional-RL010}}.
%(2) Education at compulsory school,
%(3) Child care at centre-based services,
%(4) Child care at day-care centre,
%(5) Child care by a professional child-minder, and
%(6) Child care by grand-parents, household members, relatives, friends, neighbours.
For each person-level variable detailed metadata is given (definitions, descriptions, theoretical concepts, questions variables are based on, code lists, frequencies, descriptive statistics, countries, year of data collection, and classifications) which enables researchers to replicate the results shown in the aggregated data tables from Eurostat.
The vocabulary \emph{Disco} represents metadata on person-level data in RDF.
The series (\emph{disco:StudyGroup}) \emph{EU-SILC} contains one study (\emph{disco:Study}) for each year (\emph{dcterms:temporal}) of data collection.   
\emph{dcterms:spatial} points to the countries for which the data has been collected.
The study \emph{EU-SILC 2011} contains eight person-level data sets (\emph{disco:LogicalDataSet})
including person-level variables (\emph{disco:Variable}) like the six ones needed to calculate the aggregated variable \emph{formal childcare}.
%Metadata on person-level data enables researchers to investigate further research questions based on promising findings of other researchers in form of aggregated data.
%One common research question is ,e.g., the comparison of variables like 
%\emph{formal childcare} between countries, for which the variable is collected within the context of an individual study, and other European or non European countries (e.g. OSCE).

\textbf{Organizations, Hierarchies, and Classifications.}
%\textbf{Reusing SKOS.}
The \emph{Simple Knowledge Organization System (SKOS)} is reused multiple times to represent metadata on aggregated and person-level data.
Variables are constructed out of values and/or (un)ordered code lists.
The codes of the variable \emph{Education at pre-school} (number of education hours per week) are modeled as \emph{skos:Concepts} and 
a \emph{skos:OrderedCollection} organizes them in a particular order within a \emph{skos:memberList}.
A variable may be associated with a theoretical concept (\emph{skos:Concept}) and   
\emph{skos:narrower} builds the hierarchy of theoretical concepts within the \emph{skos:ConceptScheme} of a series.
The variable \emph{Education at pre-school}, e.g., is assigned to the theoretical concept \emph{Child Care} which is the narrower concept of \emph{Education} - one of the top concepts of the series \emph{EU-SILC}.
Controlled vocabularies (\emph{skos:ConceptScheme}), serving as extension and reuse mechanism,
organize types (\emph{skos:Concept}) of descriptive statistics (\emph{\emph{disco:SummaryStatistics}}) like minimum, maximum, and arithmetic mean.
\emph{XKOS}\footnote{\url{https://github.com/linked-statistics/xkos}} is a SKOS extension to describe formal statistical classifications like the International Standard Classification of Occupations (\emph{ISCO}). 
%and the Statistical Classification of Economic Activities in the European Community \emph{NACE}.

\textbf{Searching for (Meta)data.}
\emph{DCAT} enables to represent aggregated and person-level data sets inside of data collections like portals, repositories, catalogs, and archives
which serve as typical entry points when searching for data.
Users search for aggregated and person-level data records (\emph{dcat:CatalogRecord}) inside data catalogs (\emph{dcat:Catalog}). 
As search differs depending on the users’ information need,
users may only search for records' metadata (e.g., \emph{dcterms:title}, \emph{dcterms:description}), 
or may formulate more sophisticated queries on aggregated and person-level data sets (\emph{dcat:Dataset}) or their
distributions (\emph{dcat:Distribution}) which are part of the records. 
Often, users search for data sets covering particular topics (\emph{dcat:keyword}, \emph{dcat:theme}), time periods (\emph{dcterms:temporal}),  or  locations (\emph{dcterms:spatial}), 
or for certain formats in which the data distribution is available (\emph{dcterms:format}). 

\section{Classification of Constraint Types and Constraints}
\label{classification}

Bosch et al. identified 76 requirements to formulate RDF constraints (e.g. \emph{R-75, R-81: minimum qualified cardinality restrictions}); each of them corresponding to an RDF constraint type\footnote{Constraint types and constraints are uniquely identified by alphanumeric technical identifiers like \emph{R-71-CONDITIONAL-PROPERTIES}}\cite{BoschNolleAcarEckert2015}. 
We published a technical report\footnote{Available at: \url{http://arxiv.org/abs/1501.03933}} in which we explain each requirement/constraint type in detail and give examples for each expressed by different constraint languages.
The knowledge representation formalism \emph{Description logics (DL)}, with its  well-studied theoretical properties, provides the foundational basis for each constraint type.
Therefore, this technical report contains mappings to \emph{DL} to logically underpin each requirement and to determine which \emph{DL} constructs are needed to express each constraint type \cite{BoschNolleAcarEckert2015}.

We developed a system to classify both RDF constraint types and RDF constraints to evaluate the quality of metadata and data which may be represented by any vocabulary.
%Constraints are instantiated from constraint types in order to validate both metadata and data represented by any vocabulary; thus, the proposed classification system is vocabulary-independent and therefore applicable generically.
We recently published a technical report\footnote{\label{technical-report-1}Available at: \url{http://arxiv.org/abs/1504.04479}} (serving as first appendix of this paper) in which we describe 213 constraints of 53 distinct constraint types 
to validate tabular data (\emph{PHDD}) and metadata on person-level data sets (\emph{Disco}), aggregated data sets (\emph{QB}), and thesauri (\emph{SKOS}).
By applying the proposed classification system to several vocabularies to represent both metadata and data, we prove its generality \cite{BoschZapilkoWackerowEckert2015}.

\subsection{Classification of Constraint Types}

The complete set of \emph{constraint types} ($\mathcal{CT}$) encompasses three disjoint \emph{sets of constraint types}:
\begin{enumerate}
	\item $\mathcal{CT}_{B}$: \textbf{\emph{Basic Constraint Types}}
	\item $\mathcal{CT}_{S}$: \textbf{\emph{Simple Constraint Types}}
	\item $\mathcal{CT}_{C}$: \textbf{\emph{Complex Constraint Types}}
\end{enumerate}

The modeling languages \emph{RDF}, \emph{RDFS}, and \emph{OWL} are typically used to define vocabularies.
\emph{Basic constraint types} ($\mathcal{CT}_{B}$) 
denotes the set of constraint types whose constraints 
can be extracted completely automatically out of vocabularies.
As vocabularies have been specified using \emph{RDF}, \emph{RDFS}, and \emph{OWL},
\emph{basic constraints} ensure that the data is consistent with the intended syntaxes, semantics, and integrity of vocabularies' data models.
%The {\em existential quantification} (\emph{R-86}) 
%\ms{Study $\equiv$ $\exists$ product.LogicalDataSet} (\emph{DL}), e.g., restricts studies to contain at least one data set which is expressible in OWL 2:
\emph{Minimum qualified cardinality restrictions} (\emph{R-74}), e.g., guarantee that individuals of given classes are connected by particular properties to at least n different individuals/literals of certain classes or data ranges.
This way, it is expressible in \emph{OWL 2} that a \emph{phdd:TableStructure} has (\emph{phdd:column}) at least one \emph{phdd:Column}:
\begin{ex}
[   a owl:Restriction ; rdfs:subClassOf TableStructure ;
    owl:minQualifiedCardinality 1 ;
    owl:onProperty column ;
    owl:onClass Column ] .
\end{ex}

\emph{Simple constraint types} ($\mathcal{CT}_{S}$) is the set of constraint types whose constraints can be easily defined without much effort in addition to $\mathcal{CT}_{B}$ constraints.
{\emph{Data property facets} (\emph{R-46}) is an example of an $\mathcal{CT}_{S}$ constraint type which enables to declare frequently needed facets for data properties in order to validate input against simple conditions including min/max values, regular expressions, and string length.
The abstract of series/studies, e.g., should have a minimum length ($\mathcal{SL}_{1}$).

\emph{Complex constraint types} ($\mathcal{CT}_{C}$) encompass constraint types for which the definition of constraints is rather complex and cannot be derived from vocabulary definitions.
Complex constraints show the importance of constraint languages enabling to describe more complex constraints.
For assessing the quality of thesauri, e.g., we concentrate on the graph-based structure and apply graph- and network-analysis techniques.
An example of such constraints of the constraint type \emph{structure} is that 
a thesaurus should not contain many orphan concepts, i.e., concepts without any associative or hierarchical relations, lacking context information valuable for search.  

\subsection{Classification of Constraints}

\emph{SBE} experts determined the default \textbf{\emph{severity level}} (\emph{R-158}) for each constraint to indicate how serious the violation of the constraint is.
We propose an extensible metric to measure the continuum of severity levels ranging from $\mathcal{SL}_{0}$ to $\mathcal{SL}_{2}$.
According to the constraints' default severity level the complete set of constraints ($\mathcal{C}$) encompasses three disjoint \emph{sets of constraints}:
\begin{itemize}
	\item $\mathcal{SL}_{0}$: set of constraints with \textbf{severity level \emph{informational}}
	\item $\mathcal{SL}_{1}$: set of constraints with \textbf{severity level \emph{warning}}
	\item $\mathcal{SL}_{2}$: set of constraints with \textbf{severity level \emph{error}}
\end{itemize}
Violations of $\mathcal{SL}_{0}$ constraints point to desirable data improvements to achieve RDF representations which are ideal in terms of syntax and semantics of used vocabularies. 
Data not conforming to $\mathcal{SL}_{1}$ and $\mathcal{SL}_{2}$ constraints is syntactically and/or semantically not correctly represented.
The difference between $\mathcal{SL}_{1}$ and $\mathcal{SL}_{2}$ constraints is that data, not conforming to $\mathcal{SL}_{1}$ but conforming to $\mathcal{SL}_{2}$ constraints, could be processed further,
whereas data, not corresponding to $\mathcal{SL}_{2}$ constraints, cannot be processed further after validation. 
Although, we provide default severity levels for each constraint, validation environments should enable users to adapt constraints' severity levels according to their individual needs.

As $\mathcal{CT}_{B}$ constraints are derived from explicitly stated semantics of vocabularies' data models, 
default severity levels of $\mathcal{CT}_{B}$ constraints are in most cases very strong ($\mathcal{SL}_{2}$) and 
in average stronger than severity levels of $\mathcal{CT}_{S}$ and $\mathcal{CT}_{C}$ constraints.
As a consequence, violating many $\mathcal{CT}_{B}$ constraints is an indicator for bad data quality\footnote{For simplicity reasons, we only assign severity levels to $\mathcal{CT}_{B}$ constraints when they differ from $\mathcal{SL}_{2}$.}.

Validation environments should enable users to select which constraints to validate against depending on their individual use cases.
For some use cases, 
validating constraints of $\mathcal{CT}_{B}$ constraint types may be more important than validating constraints of $\mathcal{CT}_{S}$ or $\mathcal{CT}_{C}$ constraint types.
For other use cases,
validating $\mathcal{SL}_{2}$ constraints may be sufficient without taking $\mathcal{SL}_{1}$ and $\mathcal{SL}_{0}$ constraints into account.
\tb{refer to evaluation / what do we want to know?} 
%
%- different sets of constraints for different use cases / use case specific constraints
%
%- validation against minimal set of requirements / constraints
%
%-----

%further ideas:
%
%RDF validation scenarios require the closed-world assumption (CWA) (i.e., a statement is inferred to be false if it cannot be proved to be true).

%use-case specific constraints, e.g., DCAT: searching for metadata
%\tb{Thomas: ToDo}

\section{Basic Constraint Types}
\label{basic-constraint-types}

As \emph{RDFS} and \emph{OWL} are typically used to define vocabularies, \emph{RDFS} and \emph{OWL} reasoning may be performed prior to validation. 
Reasoning and validation are indeed very closely related. 
\emph{Reasoning} is the process of determining what follows from what has been stated.
%Both should be possible: (1) validation with reasoning and (2) validation without reasoning. 
We divide the whole set of \emph{basic constraint types} ($\mathcal{CT}_{B}$) into two disjoint sets to investigate the affect of reasoning to the validation process: 
\begin{enumerate}
	\item $\mathcal{C}_B ^{\mathcal{R}}$ corresponds to axioms in \emph{OWL 2} and denotes the set of constraint types which enable performing reasoning prior to validation, especially when not all the knowledge is explicit (section \ref{basic-constraint-types-with-reasoning}).  
  \item $\overline{\mathcal{C}_B ^{\mathcal{R}}}$  denotes the set of constraint types for which reasoning cannot be done or does not improve the result in any obvious sense (section \ref{basic-constraint-types-without-reasoning}).
\end{enumerate}

\subsection{Basic Constraint Types with Reasoning}
\label{basic-constraint-types-with-reasoning}

Validation environments should enable users to decide if they wish to perform reasoning prior to validation.
Reasoning as an optional pre validation step is beneficial for RDF validation as 
(1) it may resolve constraint violations and  
(2) it may cause useful constraint violations.
A \emph{universal quantification} (\emph{R-91}) contains all those individuals that are connected by a property only to individuals/literals of particular classes  or data ranges.
%Only \emph{dcat:Catalogs}, e.g., can have \emph{dcat:dataset} relationships to \emph{dcat:Datasets}:
%\begin{DL}
%Catalog $\sqsubseteq$ $\forall$ dataset.Dataset
%\end{DL}
Consider the following DL knowledge base $\mathcal{K}$\footnote{A knowledge base is a collection of formal statements which corresponds to \emph{facts} or what is known explicitly. For simplicity reasons, we only write namespace prefixes in DL statements to avoid ambiguities.}:

\begin{center}
\begin{DL} 
$\mathcal{K}=\{$ &\ms{LogicalDataSet $\sqsubseteq$ dcat:DataSet},\\
 &\ms{LogicalDataSet $\sqsubseteq \forall$ aggregation.qb:DataSet},\\
 %&\ms{dcat:DataSet $\equiv$ $\exists$ dcat:distribution . dcat:Distribution},\\
 &\ms{LogicalDataSet( logical-data-set )},\\
 &\ms{aggregation( logical-data-set, aggregated-data-set )}
 \}\\ 
\end{DL}
\end{center}

As we know that only person-level data sets (\emph{disco:LogicalDataSet}) can derive (\emph{disco:aggregation}) aggregated data sets (\emph{qb:DataSet}), 
{\em logical-data-set} is a \emph{disco:LogicalDataSet}, 
and \emph{aggregated-data-set} is derived from \emph{logical-data-set},
we conclude that \emph{aggregated-data-set} must be a \emph{qb:DataSet}.
As \emph{aggregated-data-set} is not explicitly defined to be a \emph{qb:DataSet}, however, a constraint violation is raised.
If we perform reasoning prior to validation, the constraint violation is resolved, as the implicit triple \ms{qb:DataSet(aggregated-data-set)} is inferred. 

Reasoning may also cause constraint violations which are needed to enhance data quality.
With \emph{subsumption} (\emph{R-100}), one can state that \emph{disco:LogicalDataSet} is a sub-class of \emph{dcat:DataSet}, 
i.e., each person-level data set is also a catalog data set.
Thus, constraints on catalog data sets are also validated for person-level data sets;
e.g., the \emph{existential quantification} below restricting that person-level data sets must have a distribution: 

\begin{center}
\begin{DL} 
$\mathcal{K}=\{$ 
 &\ms{DataSet $\equiv$ $\exists$ distribution.Distribution},\\
&\ms{Variable $\equiv$ $\exists$ concept.Concept}
 \}\\ 
\end{DL}
\end{center}

We extend $\mathcal{K}$ by \emph{existential quantifications} (\emph{R-86}) enforcing that instances of given classes must have some property relation to individuals/literals of certain types.
Variables, e.g., should have a relation to a theoretical concept ($\mathcal{SL}_{0}$).
%The variables \emph{number of school years} and \emph{highest educational degree}, e.g., are associated with the theoretical concept \emph{education}. 
The variable \emph{Education at pre-school} is associated with the theoretical concept \emph{Child Care}. 
The default severity level of the constraint is weak, as in most cases research can be continued without having information about the theoretical concept of a variable.
%If a study, e.g., does not contain any data set ($\mathcal{SL}_{2}$), the actual description of the data is missing which may indicate that it is very hard or unlikely to get access to the data.
%If metadata on data files, including the actual data, is missing (especially case and variable quantities; $\mathcal{SL}_{1}$), the description of the data sets and the study is not sufficient.
%Case quantity measures how many cases are collected for a study.
%High case and variable quantities are indicators for high statistical quality and comprehensiveness of the underlying study ($\mathcal{SL}_{1}$).

\begin{center}
\begin{DL} 
$\mathcal{K}=\{$ 
  &\ms{fundedBy $\sqsubseteq$ contributor}
 \}\\ 
\end{DL}
\end{center}

By stating that \emph{disco:fundedBy} is a sub property of \emph{dcterms:contributor},
the {\em sub property} (\emph{R-54, R-64}) above assures that if a series is funded by an organization, then the organization must also contribute to the series.
In case the \emph{sub-property} is applied without reasoning and $\mathcal{K}$ contains the triple \ms{disco:fundedBy} \ms{(EU-SILC,} \ms{organization)},
a constraint violation is thrown if $\mathcal{K}$ does not explicitly include the triple \ms{dcterms:contributor} \ms{(EU-SILC,} \ms{organization)}.
If the \emph{sub property} is applied with reasoning, on the other side, the latter triple is derived which resolves the constraint violation.

%\begin{DL}
%fundedBy $\sqsubseteq$ contributor
%\end{DL} 

%\emph{Asymmetric object properties} (\emph{R-62}) restrict that if individual \emph{x} is connected by the object property \emph{OP} to individual \emph{y}, then \emph{y} cannot be connected by \emph{OP} to \emph{x}. 
%Such constraints are defined for each object property for which a semantically equivalent object property pointing from the other direction would also be possible but is not defined within the vocabulary.
%A \emph{disco:Variable}, e.g., may be based on (\emph{disco:basedOn}) a \emph{disco:RepresentedVariable}.
%A \emph{disco:RepresentedVariable}, however, cannot be based on a \emph{disco:Variable} (\ms{$disco:basedOn \sqcap disco:basedOn^{-} \sqsubseteq \bot$}).

%\emph{Property domain} (\emph{R-25, R-26}) and \emph{range} (\emph{R-28, R-35}) constraints restrict domains and ranges of properties.
%Only \emph{phdd:Tables}, e.g., can have \emph{phdd:isStructuredBy} relationships and
%\emph{xkos:belongsTo} relationships can only point to \emph{skos:Concepts}:
%\begin{DL}
%$\exists$ isStructuredBy.$\top$ $\sqsubseteq$ Table \\
%$\top$ $\sqsubseteq$ $\forall$ belongsTo.Concept
%\end{DL}

%\begin{center}
%\begin{DL} 
%$\mathcal{K}=\{$ 
  %&\ms{TableStructure $\sqsubseteq$ $\geq$1 column.Column}, \\
	%&\ms{Variable $\sqsubseteq$ $\leq$1 concept.Concept}, \\
	%&\ms{DataSet $\sqsubseteq$ $\geq$1 structure.DataStructureDefinition} \\ 
	%&\ms{$\sqcap$ $\leq$1 structure.DataStructureDefinition}
 %\}\\ 
%\end{DL}
%\end{center}

%\textbf{Cardinality Restrictions on Properties.}
%An \emph{existential quantification} (\emph{R-86}) contains all those individuals that are connected by a property to individuals/literals of given classes or data ranges.
%Every \emph{qb:SliceKey}, e.g., must be associated with (\emph{qb:sliceKey}) a \emph{qb:DataStructureDefinition} (\ms{SliceKey $\sqsubseteq$ $\exists$ sliceKey$^{-}$.DataStructureDefinition}).
%\emph{Minimum/maximum/exact qualified cardinality restrictions} (\emph{R-74, R-75, R-76}) contain all those individuals that are connected by a property to at least/at most/exactly n different individuals/literals of particular classes or data ranges.
%A \emph{phdd:TableStructure} has (\emph{phdd:column}) at least one \emph{phdd:Column},
%a \emph{disco:Variable} has at most one \emph{disco:concept} relationship to a theoretical concept (\emph{skos:Concept}), and a \emph{qb:DataSet} is structured by (\emph{qb:structure}) exactly one \emph{qb:DataStructureDefinition}.
%DATA-CUBE-C-MINIMUM-QUALIFIED-CARDINALITY-RESTRICTIONS-
%02: Unique data set (IC-1 [3]) - Every qb:Observation has (qb:dataSet) ex-
%actly one associated qb:DataSet (Observation  ¥1 dataSet.DataSet [
%¤1 dataSet.DataSet).
%Severity level: ERROR
%
%(\emph{R-75: minimum qualified cardinality restrictions})
%
%DATA-CUBE-C-EXACT-QUALIFIED-CARDINALITY-RESTRICTIONS-
%02: Unique DSD (IC-2 [3]) - Every qb:DataSet has (qb:structure) exactly one
%associated qb:DataStructureDefinition (DataSet  ¥1 structure.DataStructureDefinition
%[ ¤1 structure.DataStructureDefinition).
%Severity level: ERROR
%
%(\emph{R-74: exact qualified cardinality restrictions})
%\footnote{\emph{DATA-CUBE-C-EXACT-QUALIFIED-CARDINALITY-RESTRICTIONS-02}}.
%\textbf{Language Tag Cardinality.}

\subsection{Basic Constraint Types without Reasoning}
\label{basic-constraint-types-without-reasoning}

$\overline{\mathcal{C}_B ^{\mathcal{R}}}$  denotes the set of constraint types for which reasoning cannot be done or does not improve the result in any obvious sense.
The constraint type \emph{vocabulary} guarantees that users do not invent new or use deprecated terms of vocabularies.
%Out-dated classes and properties of previous vocabulary versions can be marked as deprecated.
%The constraint types \emph{context-specific valid classes and properties} (\emph{R-209; R-210}) can be used to specify which classes and properties are valid in which context - here a given vocabulary version.
\emph{Value is valid for datatype} (\emph{R-223}) constraints serve to make sure that all literal values are valid with regard to their datatypes - as stated in the vocabularies.
Thus, it is checked that all date values (e.g., {{\em dcterms:date}, \em disco:startDate}, {\em disco:endDate}) are actually of the datatype \emph{xsd:date} and that \emph{xsd:nonNegativeInteger} values (e.g. \emph{disco:frequency}) are not negative.
Depending on property datatypes, two different literal values have
a specific ordering with respect to operators like \textless  (\emph{R-43: literal value comparison}).
Start dates (\emph{disco:startDate}), e.g., must be before (\emph{\textless}) end dates (\emph{disco:endDate}).

\begin{center}
\begin{DL} 
$\mathcal{K}=\{$ 
	&\ms{isStructuredBy $\sqsubseteq$ $\neg$ column}, \\
	&\ms{TableDescription $\sqcap$ ColumnDescription $\sqsubseteq$ $\perp$}, \\
	&\ms{CategoryStatistics $\equiv$} \\
	&\ms{$\forall$ computationBase.\{valid,invalid\} $\sqcap$ langString}
 \}\\ 
\end{DL}
\end{center}

All properties, not having the same domain and range types, are defined to be pairwise disjoint
(\emph{R-9: disjoint properties}), i.e., no individual \emph{x} can be connected to an individual/literal \emph{y} by disjoint properties (e.g., \emph{phdd:isStructuredBy} and \emph{phdd:column}).
All \emph{PHDD} classes (e.g., \emph{phdd:TableDescription}, \emph{phdd:ColumnDescription}) are pairwise disjoint (\emph{R-7: disjoint classes}),
i.e., individuals cannot be instances of multiple disjoint classes.
It is a common requirement to narrow down the value space of properties by an exhaustive enumeration of valid values (\emph{R-30/37: allowed values}). 
%\emph{Allowed values} (\emph{R-30, R-37}) for properties can be IRIs (matching one or multiple patterns), any literals, allowed literals (e.g. 'red' 'blue' 'green'), and typed literals of one or multiple type(s) (e.g. \emph{xsd:string}). 
\emph{disco:CategoryStatistics}, e.g., can only have \emph{disco:computationBase} relationships to the values \emph{valid} and \emph{invalid} of the datatype \emph{rdf:langString}.
Validation should \emph{exploit sub-super relations} in vocabularies (\emph{R-224}).
If \emph{dcterms:coverage} and one of its sub-properties (\emph{dcterms:spatial}, \emph{dcterms:temporal}) are given,
it is checked that \emph{dcterms:coverage} is not redundant with its sub-properties 
which may indicate when the data is verbose/redundant or expressed at a too general level.

\section{Simple Constraint Types}

$\mathcal{CT}_{S}$ is the set of constraint types whose constraints can be easily defined without much effort in addition to $\mathcal{CT}_{B}$ constraints.
For data properties, it may be desirable to restrict that values of predefined languages must be present for determined number of times (\emph{R-48/49: language tag cardinality}):
(1) It is checked if literal language tags are set. Some controlled vocabularies, e.g., contain literals in natural language, but without information what language has actually been used ($\mathcal{SL}_{1}$). 
(2) Language tags must conform to language standards ($\mathcal{SL}_{2}$). 
(3) Some thesaurus concepts are labeled in only one, others in multiple languages. 
It may be desirable to have each concept labeled in each of the languages that are also used on the other concepts,
as language coverage incompleteness for some concepts may indicate shortcomings of thesauri ($\mathcal{SL}_{0}$)
\cite{MaderHaslhoferIsaac2012}.

%\textbf{Validation and Reasoning.}
\emph{Default values} (\emph{R-31, R-38}) for objects/literals of given properties are inferred automatically when properties are not present in the data.
The value \emph{true} for the property {\em disco:isPublic} indicates that a {\em disco:LogicalDataSet} can be accessed by anyone.
Per default, however, access to data sets should be restricted (\emph{false}) ($\mathcal{SL}_{0}$).
Many properties are not necessarily required but \emph{recommended} within a particular context (\emph{R-72}).
The property {\em skos:notation}, e.g., is not mandatory for {\em disco:Variable}s, but recommended to represent variable names ($\mathcal{SL}_{0}$).
Percentage values are only valid when they are within the literal range of 0 and 100 (\emph{R-45: literal ranges}; $\mathcal{SL}_{2}$)
which is checked for \emph{disco:percentage} standing for the number of cases of a given code in relation to the total number of cases for a particular variable.

\begin{center}
\begin{DL} 
$\mathcal{K}=\{$ 
	&\ms{(funct identifier$\sp{\overline{\ }})$, identifier keyfor Resource}
 \}\\ 
\end{DL}
\end{center}

It is often useful to declare a given (data) property as the \emph{primary key} (\emph{R-226}) of a class, so that a system can enforce uniqueness and build URIs from user inputs and imported data. 
In \emph{Disco}, resources are uniquely identified by the property \emph{adms:identifier},
which is therefore inverse-functional,
i.e., for each \emph{rdfs:Resource x}, there can be at most one distinct resource \emph{y} such that \emph{y} is connected by \emph{adms:identifier$\sp{\overline{\ }}$} to \emph{x} ($\mathcal{SL}_{2}$).
%\begin{DL}
%$(\ms{funct identifier}\sp{\overline{\ }})$
%\end{DL} 
Keys, however, are even more general than \emph{inverse-functional properties} (\emph{R-58}),
as a key can be a data property, an object property, or a chain of properties \cite{Schneider2009}.
Thus and as there are different sorts of key, and as keys can lead to undecidability, 
\emph{DL} is extended with the construct \emph{keyfor} \cite{Lutz2005} which is implemented by the \emph{OWL 2} \emph{hasKey} construct.
%\emph{OWL 2} \emph{hasKey} implements \emph{keyfor} ($\mathcal{SL}_{2}$) and thus can be used to identify resources uniquely, to merge resources with identical key property values, and to recognize constraint violations.
%\begin{DL}
%identifier \ms{keyfor} Resource
%\end{DL} 

\section{Complex Constraint Types}
\label{complex-constraint-types}

%\textcolor{red}{
%In this sub-chapter, we assign default severity levels to and describe constraints of diverse $\mathcal{CT}_{C}$ constraint types 
%to ensure that the data is consistent with the intended syntax, semantics, and integrity of vocabularies' data models.
%}
%\textbf{Observations of Aggregated Data Sets.}
%- for each dimension there should be a description and code lists.
%- for each code list there should be a description.
%- there should be a relationship to the underlying person-level data.

$\mathcal{CT}_{C}$ denotes the set of constraint types for which the definition of constraints is rather complex and cannot be derived from vocabulary definitions.
\emph{Data model consistency} constraints ensure the integrity of
the data according to the intended semantics of vocabularies.
Every \emph{qb:Observation}, e.g., must have a value for each dimension
declared in its \emph{qb:DataStructureDefinition} ($\mathcal{SL}_{2}$)
and no two \emph{qb:Observations} in the same \emph{qb:DataSet}
can have the same value for all dimensions ($\mathcal{SL}_{1}$).
If a \emph{qb:DataSet} \emph{D} has a \emph{qb:Slice} \emph{S}, and \emph{S} has an
\emph{qb:Observation} \emph{O}, then the \emph{qb:DataSet} corresponding to \emph{O} must be \emph{D} ($\mathcal{SL}_{1}$).
%Relative frequencies of variable codes are calculated correctly, if the cumulative percentage (\emph{disco:cumulativePercentage}) of a given code exactly matches the cumulative percentage of the previous code
%plus the percentage value (\emph{disco:percentage}) of the current code ($\mathcal{SL}_{2}$).
{\em Mathematical Operations} (\emph{R-41, R-42}; e.g. date calculations and statistical computations like average, mean, and sum) are performed to ensure the integrity of data models.
The sum of percentage values of all variable codes, e.g., must exactly be 100 ($\mathcal{SL}_{2}$)
and the minimum absolute frequency of all variable codes do not have to be greater than the maximum ($\mathcal{SL}_{2}$).

%\textbf{Hierarchies and Ordering.}
%\textbf{Structure and Ordering.}
%For assessing the quality of \emph{SKOS} vocabularies, we concentrate on graph-based structures and apply graph- and network-analysis techniques (\emph{structure} constraints) like 
%(1) a thesaurus should provide entry points (top concepts) to the data to provide efficient access and guidance for human users,
%(2) concepts, internal to the tree, should not be indicated as top concepts, and
%(3) a thesaurus should not contain many orphan concepts 
%(concepts without any associative or hierarchical relations) lacking valuable context information for retrieval.
%, as, e.g., no hierarchical query expansion can be performed on search terms to find documents with more general content.) \cite{MaderHaslhoferIsaac2012}. 

A very common research question is to compare variables of multiple studies or countries (constraint type: \emph{comparison}).
To compare variables 
(1) their code lists must be structured properly and
(2) their code lists must either be identical or at least similar.
If a researcher only wants to get a first overview over comparable variables (use case 1), 
covering the first constraint may be sufficient.
Thus, the severity level of the first constraint is stronger ($\mathcal{SL}_{2}$) than the one for the second constraint ($\mathcal{SL}_{0}$).
If the intention of the researcher is to perform more detailed comparisons (use case 2), however, the violation of the second constraint is getting more serious
and the user may raise its severity level.
%\textbf{Comparison.}
%A very common research question is to compare variables of multiple studies or countries (constraint type: \emph{comparison}).
%To compare variables, 
%(1) variables and (2) variable definitions must be present,
%(3) code lists must be structured properly,
%(4) for each code an associated category must be specified, and
%(5) code lists must either be identical or at least similar.
%If a researcher wants to get a first overview over comparable variables (use case 1), 
%covering the first three constraints may be sufficient.
%Thus, the severity level of the first three constraints is stronger ($\mathcal{SL}_{2}$) than for the last two constraints ($\mathcal{SL}_{1}$ and $\mathcal{SL}_{0}$).
%If the intention of the researcher is to perform more detailed comparisons (use case 2), however, the violation of the remaining two constraints is getting more serious.

%\textbf{Membership in Controlled Vocabularies.}
In many cases, resources must be \emph{members of controlled vocabularies} (\emph{R-32}).
If a dimension property, e.g., has a \emph{qb:codeList},
then the value of the dimension property on every \emph{qb:Observation} must be in the code list ($\mathcal{SL}_{2}$).
Summary statistics types like minimum, maximum, and arithmetic mean are maintained within a controlled vocabulary.  
Thus, summary statistics can only have \emph{disco:summaryStatisticType} relationships to \emph{skos:Concept}s which must be members of the controlled vocabulary \emph{ddicv:SummaryStatisticType}, a \emph{skos:ConceptScheme} ($\mathcal{SL}_{2}$).
Objects/literals can be declared to be ordered for given properties (\emph{R-121/217: ordering}).
Variables, questions, and codes, e.g., are typically organized in a particular order. 
If codes (\emph{skos:Concept}) should be ordered, they must be members (\emph{skos:memberList}) in an ordered collection (\emph{skos:OrderedCollection}), the variable's code list ($\mathcal{SL}_{0}$).

%\textbf{Constraints on Properties.}
It is useful to declare properties to be \emph{conditional} (\emph{R-71}), i.e., if particular properties exist (or do not exist), then other properties must also be present (or absent).
To get an overview over a series/study either an abstract, a title, an alternative title, or links to external descriptions should be provided. 
If an abstract and an external description are absent, however,  
a title or an alternative title should be given ($\mathcal{SL}_{1}$).
In case a variable is represented in form of a code list, codes may be associated with categories, i.e., human-readable labels ($\mathcal{SL}_{0}$).
The variable \emph{Education at pre-school}, e.g., is represented as ordered code list without any categories.
If a {\em skos:Concept} represents a code (having {\em skos:notation} and {\em skos:prefLabel} properties), 
then the property {\em disco:isValid} has to be stated indicating if the code stands for valid (\emph{true}) or missing (\emph{false}) cases ($\mathcal{SL}_{2}$).
\emph{Context-specific exclusive or of property groups} (\emph{R-11}) constraints
restrict individuals of given classes to have properties defined within exactly one of multiple property groups.
\emph{skos:Concept}s can have either \emph{skos:definition} (when interpreted as theoretical concepts) or \emph{skos:notation} and \emph{skos:prefLabel} properties (when interpreted as codes/categories), but not both ($\mathcal{SL}_{2}$).

%\textbf{Constraints on Literals.}

%\begin{center}
%\begin{DL}
%Concept $\sqsubseteq$ ($\neg$ D $\sqcap$ C) $\sqcup$ (D $\sqcap$ $\neg$ C), D $\equiv$ A $\sqcap$ B \\
%A $\sqsubseteq$ $\geq$ 1 notation.string $\sqcap$ $\leq$ 1 notation.string \\
%B $\sqsubseteq$ $\geq$ 1 prefLabel.string $\sqcap$ $\leq$ 1 prefLabel.string \\
%C $\sqsubseteq$ $\geq$ 1 definition.string $\sqcap$ $\leq$ 1 definition.string \\
%\end{DL}
%\end{center}

%\textbf{Searching for (Meta)data.}
%
%- DCAT
%
%\textbf{Data Integration.}
%use RDF validation for data integration

%\textbf{Series, Studies, Data Sets, and Data Files.}
%It is useful to declare properties to be \emph{conditional} (\emph{R-71}), i.e., if particular properties exist (or do not exist), then other properties must also be present (or absent).
%To get an overview over a series/study either an abstract, a title, an alternative title, or links to external descriptions should be provided. 
%If an abstract and an external description are absent, however,  
%a title or an alternative title should be given ($\mathcal{SL}_{1}$).
%For datatype properties, it should be possible to declare frequently needed \emph{facets} ({\emph{R-46}) to validate input against simple conditions including min/max values, regular expressions, and string length.
%The abstract of series/studies, e.g., should have a minimum length ($\mathcal{SL}_{1}$).
%\emph{Existential quantifications} (\emph{R-86}) enforce that instances of given classes must have some property relation to individuals of certain types.
%If a study, e.g., does not contain any data set ($\mathcal{SL}_{2}$), the actual description of the data is missing which may indicate that it is very hard or unlikely to get access to the data.
%If metadata on data files, including the actual data, is missing (especially case and variable quantities; $\mathcal{SL}_{1}$), the description of the data sets and the study is not sufficient.
%Case quantity measures how many cases are collected for a study.
%High case and variable quantities are indicators for high statistical quality and comprehensiveness of the underlying study ($\mathcal{SL}_{1}$).
%
%\textbf{Variables and Variable Comparison.}
%Variables should be represented (\emph{R-86}; $\mathcal{SL}_{1}$) either as (un)ordered code lists or as unions of datatypes.
%In case of a code list, associated categories (human-readable labels) may be stated (\emph{R-71}; $\mathcal{SL}_{0}$).
%The variable \emph{Education at pre-school}, e.g., is represented as ordered code list without any categories.
%If a {\em skos:Concept} represents a code (having {\em skos:notation} and {\em skos:prefLabel} properties), 
%then the property {\em disco:isValid} has to be stated indicating if the code stands for valid (\emph{true}) or missing (\emph{false}) cases (\emph{R-71}; $\mathcal{SL}_{2}$).
%Variables may have at least one relationship to a theoretical concept ({\emph{R-86}; $\mathcal{SL}_{0}$).
%%The variables \emph{number of school years} and \emph{highest educational degree}, e.g., are associated with the theoretical concept \emph{education}. 
%The variable \emph{Education at pre-school},.e.g, is associated with the theoretical concept \emph{Child Care}. 
%The default severity level of this constraint is weak, as in most cases research can be continued without associated theoretical concepts.
%A very common research question is to compare variables of multiple studies or countries (\emph{comparison}).
%To compare variables, 
%(1) variables and (2) variable definitions must be present,
%(3) code lists must be structured properly,
%(4) for each code an associated category (human-readable label) must be specified, and
%(5) code lists must either be identical or at least similar.
%If a researcher wants to get a first overview over comparable variables (use case 1), 
%covering the first three constraints may be sufficient for this purpose.
%Thus, the severity level of the first three constraints is stronger ($\mathcal{SL}_{2}$) than the severity level of the next two constraints ($\mathcal{SL}_{1}$ and $\mathcal{SL}_{0}$).
%If the intention of the researcher is to perform more detailed comparisons (use case 2), however, the violation of the remaining two constraints is getting more serious.
%
%\textbf{Descriptive Statistics.}
%The property \emph{disco:percentage} stands for the number of cases of a given code in relation to the total number of cases for a particular variable within a data set.
%Percentage values are only valid when they are within the \emph{literal range} of 0 and 100 (\emph{R-45}; $\mathcal{SL}_{2}$).
%{\em Mathematical Operations} (\emph{R-41, R-42}; e.g. date calculations and statistical computations like average, mean, and sum) are performed to ensure the integrity of data models.
%The sum of percentage values of all codes of a variable code list, e.g., must exactly be 100 ($\mathcal{SL}_{2}$)
%and the minimum of all variable codes do not have to be greater than the maximum ($\mathcal{SL}_{2}$).
%Codes (\emph{skos:Concept}) are ordered and therefore have fixed positions in an ordered collection (\emph{skos:OrderedCollection}) within variable representations.
%In order to check the correctness of relative frequencies' calculations, the cumulative percentage (\emph{disco:cumulativePercentage}) of the current code must exactly be the cumulative percentage of the previous code
%plus the percentage value (\emph{disco:percentage}) of the current code (\emph{data model consistency}; $\mathcal{SL}_{2}$).
%
%\textbf{Unique Identification.}
%It is often useful to declare a given (data) property as the \emph{primary key} (\emph{R-226}) of a class, so that a system can enforce uniqueness and also automatically build URIs from user inputs and imported data. 
%In \emph{Disco}, resources are uniquely identified by the property \emph{adms:identifier},
%which is therefore inverse-functional
%$(\ms{funct identifier}\sp{\overline{\ }})$,
%i.e. for each \emph{rdfs:Resource x}, there can be at most one distinct \emph{rdfs:Resource y} such that \emph{y} is connected by \emph{adms:identifier$\sp{\overline{\ }}$} to \emph{x} ($\mathcal{SL}_{2}$).
%Keys, however, are even more general than inverse-functional properties (\emph{R-58}),
%as a key can be a data, an object property, or a chain of properties \cite{Schneider2009}.
%For this generalization purposes, as there are different sorts of key, and as keys can lead to undecidability, 
%DL is extended with \emph{key boxes} and a special \emph{keyfor} construct (\ms{identifier \ms{keyfor} Resource}) \cite{Lutz2005}.
%OWL 2 \emph{hasKey} implements \emph{keyfor} ($\mathcal{SL}_{2}$) and thus can be used to identify resources uniquely, to merge resources with identical key property values, and to recognize constraint violations.
%%OWL 2 hasKey can be used to identify resources uniquely
%%
%%We used Protégé 5.
%%
%%example: owl:Thing owl:hasKey ( :hasSSN ) . :Peter :hasSSN "123-45-6789" .
%%:Peter_Griffin :hasSSN "123-45-6789" .
%%
%%We use the predefined Reasoner HermiT.
%%
%%:Peter and :Peter_Griffin are derived as identical from the reasoner as they have the same value for :hasSSN.
%%
%%hasKey can be used to merge resources and to recognize constraint violations.
%%
%%Alternative to OWL 2 hasKey: concise bounded description (proposal of Dan)
%%
%%action: explore CBD document solution might be using both approaches
%%
%%benefit: additional identification to URI / IRI benefit: compound properties can be used as key
%
%
%\textbf{Membership in Controlled Vocabularies.}
%In many cases, resources must be members of controlled vocabularies (\emph{R-32}).
%If a dimension property, e.g., has a \emph{qb:codeList},
%then the value of the dimension property on every \emph{qb:Observation} must be in the code list ($\mathcal{SL}_{2}$).
%Summary statistics types like minimum, maximum, and arithmetic mean are maintained within a controlled vocabulary.  
%Summary statistics can only have \emph{disco:summaryStatisticType} relationships to \emph{skos:Concept}s which must be members of the controlled vocabulary \emph{ddicv:SummaryStatisticType}, a \emph{skos:ConceptScheme} ($\mathcal{SL}_{2}$).
%
%%\begin{center}
%%\begin{DL}
%%SummaryStatistics $\sqsubseteq$ $\forall summaryStatisticType.A$ \\
%%$A \equiv Concept \sqcap \forall inScheme . B$ \\
%%$B \equiv ConceptScheme \sqcap \{SummaryStatisticType\}$
%%\end{DL}
%%\end{center}
%
%\textbf{Coverage.}
%Information about the temporal (\emph{dcterms:temporal}), the spatial (\emph{dcterms:spatial}), and the topical coverage (\emph{dcterms:subject}) of series, studies, data sets, and data files (\emph{R-86}; $\mathcal{SL}_{1}$) is of interest when performing frequently formulated queries 
	%(e.g. to search for all data sets of given years (temporal coverage) in which data is collected in certain countries (spatial coverage) about particular topics (topical coverage)).
%Depending on property datatypes,
%two different literal values have
%a specific ordering with respect to an operator like \textless (\emph{R-43: literal value comparison}).
%Start dates (\emph{disco:startDate}), e.g., must be before (\emph{\textless}) end dates (\emph{disco:endDate}) ($\mathcal{SL}_{2}$).
%
%%\textbf{Organizations, Hierarchies, Classifications, and Ordering.}
%\textbf{Hierarchies and Ordering.}
%SKOS is based on RDF, which is a graph-based data model. Therefore, we can concentrate on the vocabulary's graph-based structure for assessing the quality of SKOS vocabularies and apply graph- and network-analysis techniques (\emph{structure}) like 
%(1) a vocabulary should provide entry points (top concepts) to the data to provide efficient access and guidance for human users,
%(2) concepts, internal to the tree, should not be indicated as top concepts, and
%(3) a vocabulary should not contain many orphan concepts 
%(concepts without any associative or hierarchical relations) lacking valuable context information. A controlled vocabulary that contains many orphan concepts is less usable for search and retrieval use cases.
%%, as, e.g., no hierarchical query expansion can be performed on search terms to find documents with more general content.) \cite{MaderHaslhoferIsaac2012}. 
%Objects and literals can be \emph{ordered} (\emph{R-121, R-217}) for given properties.
%\emph{Disco }variables, questions, and codes/categories are typically organized in a particular order. 
%If a variable code list should be ordered, the variable representation should be of the type \emph{skos:OrderedCollection} containing multiple codes/categories (each represented as \emph{skos:Concept}) in a \emph{skos:memberList}. 
%
%\textbf{Reusability.}
%Within the context of \emph{Disco}, \emph{skos:Concept}s can have either \emph{skos:definition} (when interpreted as theoretical concepts) or \emph{skos:notation} and \emph{skos:prefLabel} properties (when interpreted as codes/categories), but not both ($\mathcal{SL}_{2}$).
%The constraint type \emph{context-specific exclusive or of property groups} (\emph{R-11})
%restricts individuals of given classes to have exactly one of multiple property groups.

\section{Implementation}
\label{implementation}

SPARQL is generally seen as the method of choice to validate RDF data according to certain constraints.
We use \emph{SPIN}, 
a SPARQL-based way to formulate and check constraints, as basis to develop a
validation environment (available at \url{http://purl.org/net/rdfval-demo})\footnote{Source code downloadable at: \url{https://github.com/boschthomas/rdf-validator}} to validate RDF data according to constraints expressed my arbitrary constraint languages like Shape Expressions,
%\footnote{\url{http://www.w3.org/Submission/shex-primer/}}
Resource Shapes, and the Web Ontology Language\footnote{SPIN mappings available at: \url{https://github.com/boschthomas/rdf-validation/tree/master/SPIN}} \cite{BoschEckert2014-2}.
The \emph{RDF Validator} also validates RDF data to ensure correct syntax, semantics, and integrity of diverse vocabularies such as \emph{Disco, QB, PHDD, SKOS, and XKOS}.
Although accessible within our validation tool, we provide all implemented constraints\footnote{\url{https://github.com/boschthomas/rdf-validation/tree/master/constraints}} in form of SPARQL CONSTRUCT queries.
For the subsequent evaluation, we implemented 213 constraints on \emph{Disco}, \emph{QB}, \emph{SKOS}, \emph{XKOS}, and \emph{PHDD} data sets.
The SPIN engine checks for each resource if it satisfies all constraints, which are associated with its assigned classes, and generates a result RDF graph containing information about all constraint violations.
There is one SPIN construct template for each constraint type and vocabulary-specific constraint\footnote{For a comprehensive description of the \emph{RDF Validator}, we refer to \cite{BoschEckert2014-2}}.
A SPIN construct template contains a SPARQL CONSTRUCT query which generates constraint violation triples indicating the subject and the properties causing constraint violations, and the reason why constraint violations have been raised.
A SPIN construct template creates constraint violation triples if all triple patterns within the SPARQL WHERE clause match.
\emph{Missy}\footnote{\url{http://www.gesis.org/missy/eu/missy-home}} provides comprehensive Linked Data services like diverse RDF exports of person-level metadata conforming to the \emph{Disco} vocabulary in form of multiple concrete syntaxes. 

\section{Evaluation}
\label{evaluation}

\subsection{Evaluation Setup}

\begin{enumerate}
	\item First, we assigned each constraint type to exactly one of the disjoint sets of constraint types 
in order to get an overview how many constraint types in relation to the total amount of constraint types are extractable from vocabularies ($\mathcal{CT}_{B}$), are easily definable ($\mathcal{CT}_{S}$), and are rather difficult to specify ($\mathcal{CT}_{C}$). 
  \item Second, several SBE domain experts of the vocabularies \emph{Disco}, \emph{QB}, \emph{SKOS}, \emph{XKOS}, and \emph{PHDD} evaluated the correctness (i.e., the gold standard) of all $\mathcal{CT}_{C}$ and $\mathcal{CT}_{T}$ constraints and therefore the generic applicability of the developed classification system of constraint types and constraints. 
%i.e., the gold standard, has been proved by multiple SBE domain experts.
  \item Third, we exhaustively evaluated the metadata quality of large real world aggregated (\emph{QB}), person-level (\emph{Disco}), and thesauri (\emph{SKOS}) data sets by means of both $\mathcal{C}_{C}$ and $\mathcal{C}_{T}$ constraints of the majority of the constraint types.
\end{enumerate}
We validated 
9,990 / 3,775,983,610 (\emph{QB}),
4,178 / 477,737,281 (\emph{SKOS}), and 
1,526 / 9,673,055 (\emph{Disco}) data sets / triples using the \emph{RDF Validator} in batch mode.
That are more than 4.2 billion triples and 15 thousand data sets.
We validated, i.a., 
(1) \emph{QB} data sets published by the \emph{Australian Bureau of Statistics (ABS)},
the \emph{European Central Bank (ECB)}, and the
\emph{Organisation for Economic Co-operation and Development (OECD)},
(2) \emph{SKOS} thesauri like the \emph{AGROVOC Multilingual agricultural thesaurus},
the \emph{STW Thesaurus for Economics}, and the
\emph{Thesaurus for the Social Sciences (TheSoz)}, and
(3) \emph{Disco} data sets provided by the \emph{Microdata Information System (Missy)}, 
the \emph{DwB Discovery Portal}, the
\emph{Danish Data Archive (DDA)}, and the
\emph{Swedish National Data Service (SND)}.
We recently published a technical report\footnote{\label{technical-report-2}Available at: \url{http://arxiv.org/abs/1504.04478}} (serving as second appendix of this paper) 
in which we describe the comprehensive evaluation in detail \cite{BoschZapilkoWackerowEckert2015-2}. 
As we evaluated nearly 10 thousand \emph{QB} data sets, we published the evaluation results for each data set in form of one document per SPARQL endpoint\footnote{Available at: \url{https://github.com/boschthomas/rdf-validation/tree/master/evaluation/data-sets/data-cube}}.

\subsection{Evaluation Results and Discussion}

The majority (48 $\equiv$ 58.5\%) of the overall 82 $\mathcal{CT}$ constraint types are $\mathcal{CT}_{B}$ whose constraints can therefore be derived from vocabularies without any effort.
Among $\mathcal{CT}_{B}$, two-thirds (34 $\equiv$ 70.8\%) are $\mathcal{C}_B ^{\mathcal{R}}$, i.e., constraint types for which reasoning may be performed prior to validation, and one third (14 $\equiv$ 29.2\%) are $\overline{\mathcal{C}_B ^{\mathcal{R}}}$, i.e., constraint types for which reasoning does not make any sense.
A quarter (20 $\equiv$ 24.4\%) of all constraint types are $\mathcal{CT}_{S}$ and a sixth (14 $\equiv$ 17.1\%) are $\mathcal{CT}_{C}$.

\begin{table}[H]
		\scriptsize
    \begin{center}
    \begin{tabular}{@{}lcccc@{}}
%           & \multicolumn{6}{c}{\textbf{Vocabularies}}
%    \\  \cmidrule{2-7}
    \\       \textbf{Criteria}
           & \textbf{\emph{Disco}}
           & \textbf{\emph{QB}}
					 & \textbf{\emph{SKOS}}
					 & \textbf{Total}
    \\ \midrule
		%\emph{Triples} & 9,673,055 & 3,775,983,610 & 477,737,281 & 4,263,393,946 \\
		%\emph{Data Sets} & 1,526 & 9,990 & 4,178 & 15,694 \\
		%\hline
		\emph{CT} & 52 & 20 & 15 & 53 \\
		\hline
		$\mathcal{CT}_{C}$ & 9 (17.3\%) & 2 (10\%) & 2 (13.3\%) & 9 (17\%) \\
		$\mathcal{CT}_{S}$ & 16 (30.8\%) & 3 (15\%) & 4 (26,7\%) & 16 (30.2\%) \\
		$\mathcal{CT}_{B}$ & 27 (\textbf{51.9\%}) & 15 (\textbf{75\%}) & 9 (\textbf{60\%}) & 28 (\textbf{52.8\%}) \\
		\hline
		$\mathcal{C}_B ^{\mathcal{R}}$ & 18 (34.6\%) & 9 (45\%) & 4 (26.7\%) & 19 (35.9\%) \\
		$\overline{\mathcal{C}_B ^{\mathcal{R}}}$ & 9 (17.3\%) & 6 (30\%) & 5 (33.3\%) & 9 (17\%) \\
    \bottomrule
    \end{tabular}
    %\\ \emph{C (constraints), CT (constraint types)}
    \caption{Evaluation - Constraint Types}
		\label{tab:evaluation-constraint-types}
    \end{center}
\end{table}

%Table \ref{tab:evaluation-constraint-types} displays the evaluation of the metadata quality on real world data sets regarding constraint types.
We defined constraints of 53 distinct $\mathcal{CT}$ constraint types (see table \ref{tab:evaluation-constraint-types}).
More than the half of them are $\mathcal{CT}_{B}$, more than a third $\mathcal{C}_B ^{\mathcal{R}}$, nearly a third $\mathcal{CT}_{S}$, and only a sixth $\mathcal{CT}_{C}$ constraint types.
For \emph{Disco}, \emph{QB}, and \emph{SKOS}, more than 50\% of the instantiated constraint types are $\mathcal{CT}_{B}$ constraint types 
(for \emph{QB} even three quarters).
\emph{Existential quantifications} (\emph{R-86}, 32.4\%, \emph{Disco}), \emph{data model consistency} (31.4\%, \emph{QB}), and \emph{structure} (28.6\%, \emph{SKOS}) are the constraint types the most constraints are instantiated from.

\begin{table}[H]
		\scriptsize
    \begin{center}
    \begin{tabular}{@{}lcccc@{}}
%           & \multicolumn{6}{c}{\textbf{Vocabularies}}
%    \\  \cmidrule{2-7}
    \\       \textbf{Criteria}
           & \textbf{\emph{Disco}}
           & \textbf{\emph{QB}}
					 & \textbf{\emph{SKOS}}
					 & \textbf{Total}
    \\ \midrule
		%\emph{Triples} & 9,673,055 & 3,775,983,610 & 477,737,281 & 4,263,393,946 \\
		%\emph{Data Sets} & 1,526 & 9,990 & 4,178 & 15,694 \\
		%\hline
		\emph{C} & 143 (67.1\%) & 35 (16.4\%) & 35 (16.4\%) & 213 \\
		\hline
		\emph{C (}$\mathcal{CT}_{C}$\emph{)} & 37 (25.9\%) & 13 (37.1\%) & 13 (\textbf{37.1\%}) & 63 (29.6\%) \\
		\emph{C (}$\mathcal{CT}_{S}$\emph{)} & 28 (19.6\%) & 3 (8.6\%) & 12 (\textbf{34.3\%}) & 43 (20.2\%) \\
		\emph{C (}$\mathcal{CT}_{B}$\emph{)} & 78 (\textbf{54.6\%}) & 19 (\textbf{54.3\%}) & 10 (\textbf{28.6\%}) & 107 (\textbf{50.2\%}) \\
		\hline
		\emph{C (}$\mathcal{C}_B ^{\mathcal{R}}$\emph{)} & 67 (46.9\%) & 13 (37.1\%) & 4 (11.4\%) & 84 (39.4\%) \\
		\emph{C (}$\overline{\mathcal{C}_B ^{\mathcal{R}}}$\emph{)} & 11 (7.7\%) & 6 (17.1\%) & 6 (17.1\%) & 23 (10.8\%) \\
		\hline
		\emph{C ($\mathcal{SL}_{0}$)} & 75 (\textbf{52.5\%}) & 4 (11.4\%) & 21 (\textbf{60\%}) & 100 (\textbf{46.9\%}) \\
		\emph{C ($\mathcal{SL}_{1}$)} & 10 (7\%) & 3 (8.6\%) & 5 (14.3\%) & 18 (8.5\%) \\
		\emph{C ($\mathcal{SL}_{2}$)} & 58 (40.6\%) & 28 (\textbf{80\%}) & 9 (25.7\%) & 95 (\textbf{44.6\%}) \\
    \bottomrule
    \end{tabular}
    %\\ \emph{C (constraints), CT (constraint types)}
    \caption{Evaluation - Constraints}
		\label{tab:evaluation-constraints}
    \end{center}
\end{table}
 
Half of the overall 213 $\mathcal{CT}$ constraints are $\mathcal{CT}_{B}$ constraints (almost 40\% $\mathcal{C}_B ^{\mathcal{R}}$) (see table \ref{tab:evaluation-constraints}).
This is not surprising as more than the half of the instantiated constraints types are $\mathcal{CT}_{B}$ constraint types.
More than 50\% of the \emph{Disco} and \emph{QB} constraints are $\mathcal{CT}_{B}$ constraints.
The \emph{SKOS} constraints, on the other side, are equally assigned to the three disjoint constraint type sets. 
\emph{SBE} domain experts associated almost the half of the constraints with the severity levels $\mathcal{SL}_{0}$ (\emph{informational}) (47\%) and $\mathcal{SL}_{2}$ (\emph{error}) (45\%);
only 8.5\% are $\mathcal{SL}_{1}$ (\emph{warning}) constraints.
The violation of 80\% of the \emph{QB} constraints is very serious ($\mathcal{SL}_{2}$).
More than 50\% of the \emph{Disco} and \emph{SKOS} constraints, however, are assigned to the weakest default severity level ($\mathcal{SL}_{0}$).

\begin{table}[H]
		\scriptsize
    \begin{center}
    \begin{tabular}{@{}lcccc@{}}
%           & \multicolumn{6}{c}{\textbf{Vocabularies}}
%    \\  \cmidrule{2-7}
    \\       \textbf{Criteria}
           & \textbf{\emph{Disco}}
           & \textbf{\emph{QB}}
					 & \textbf{\emph{SKOS}}
					 & \textbf{Total}
    \\ \midrule
		\emph{CV} & 3,575,002 (6.5\%) & 45,635,861 (83.4\%) & 5,540,988 (10.1\%) & 54,751,851 \\
		\hline
		\emph{CV (}$\mathcal{CT}_{C}$\emph{)} & 652,780 (18.3\%) & 45,634,084 (\textbf{100\%}) & 1,185,982 (21.4\%) & 47,472,846 (\textbf{86.7\%}) \\
		\emph{CV (}$\mathcal{CT}_{S}$\emph{)} & 560,857 (15.7\%) & 0 (0\%) & 4,355,006 (\textbf{78.6\%}) & 4,915,863 (9\%) \\
		\emph{CV (}$\mathcal{CT}_{B}$\emph{)} & 2,361,365 (\textbf{66.1\%}) & 1,777 (0\%) & 0 (0\%) & 2,363,142 (4.3\%) \\
		\hline
		\emph{CV (}$\mathcal{C}_B ^{\mathcal{R}}$\emph{)} & 2,333,365 (65.3\%) & 1,777 (0\%) & 0 (0\%) & 2,335,142 (4.3\%) \\
		\emph{CV (}$\overline{\mathcal{C}_B ^{\mathcal{R}}}$\emph{)} & 28,000 (0.8\%) & 0 (0\%) & 0 (0\%) & 28,000 (0.1\%) \\
		\hline
		\emph{CV ($\mathcal{SL}_{0}$)} & 1,880,777 (\textbf{52.6\%}) & 0 (0\%) & 2,281,740 (41.2\%) & 4,162,517 (7.6\%) \\
		\emph{CV ($\mathcal{SL}_{1}$)} & 1,051,757 (29.4\%) & 45,520,613 (\textbf{99,8\%}) & 3,259,248 (\textbf{58.8\%}) & 49,831,618 (\textbf{91\%}) \\
		\emph{CV ($\mathcal{SL}_{2}$)} & 642,468 (18\%) & 115,248 (0.3\%) & 0 (0\%) & 757,716 (1.4\%) \\
    \bottomrule
    \end{tabular}
    %\\ \emph{CV (constraint violations)}
    \caption{Evaluation - Constraint Violations}
		\label{tab:evaluation-constraint-violations}
    \end{center}
\end{table}

More than 80\% of the overall approx. 55 million constraint violations are caused by \emph{QB} constraints (see table \ref{tab:evaluation-constraint-violations}).
The majority (86.7\%) of the constraint violations are caused by $\mathcal{CT}_{C}$ constraints and only 9\% by $\mathcal{CT}_{S}$ constraints.
The fact that only 4\% of all constraint violations result from $\mathcal{CT}_{B}$ constraints, 
even though, more than 50\% of all constraints are $\mathcal{CT}_{B}$ constraints,
is an indicator that data producers achieve good data quality with respect to the constraints extracted by vocabularies.
Two-thirds of the constraint violations, thrown for \emph{Disco} data sets, result from $\mathcal{CT}_{B}$ constraints,
almost only $\mathcal{CT}_{C}$ constraints raised constraint violations for \emph{QB} data sets, and 
nearly 80\% of the \emph{SKOS} constraint violations are caused by $\mathcal{CT}_{S}$ constraints.
Although, only 8.5\% of all constraints are $\mathcal{SL}_{1}$ constraints,
9 0f 10 constraint violations are caused by constraints associated with the default severity level $\mathcal{SL}_{1}$.
More than 50\% of all constraint violations thrown for \emph{Disco} data sets are not seen to be that significant ($\mathcal{SL}_{0}$).
Almost all constraint violations raised by \emph{QB} constraints and 59\% of the constraint violations caused by \emph{SKOS} constraints are classified as warnings ($\mathcal{SL}_{1}$).  
As this evaluation serves as indication for \emph{good} or \emph{bad} (meta)data quality, 
we conclude that
the metadata quality of all evaluated \emph{Disco} data sets is \emph{good} and that the metadata quality of all evaluated \emph{QB} and \emph{SKOS} data sets is \emph{satisfactory}.
%The constraints responsible for the largest amounts of constraint violations are \emph{DISCO-C-LABELING-AND-DOCUMENTATION-06} and \emph{DISCO-C-COMPARISON-VARIABLES-02} (both 547,916; \emph{Disco}), \emph{DATA-CUBE-C-DATA-MODEL-CONSISTENCY-05} (45,514,102; \emph{QB}), and \emph{SKOS-C-LANGUAGE-TAG-CARDINALITY-01} (2,508,903; \emph{SKOS}).

\section{Related Work}
\label{related-work}

%\textbf{XML vs. RDF Validation.}
For data archives, research institutes, and data libraries,
RDF validation according to predefined constraints is a much sought-after feature, 
particularly as this is taken for granted in the XML world.
DDI-XML documents, e.g., are validated against diverse XSDs\footnotemark[\ref{fnt:DDI-XSDs}].
As certain constraints cannot be formulated and validated by XSDs, 
so-called secondary-level validation tools like \emph{Schematron}\footnote{\url{https://msdn.microsoft.com/en-us/library/aa468554.aspx}} have been introduced to overcome the limitations of XML validation.
\emph{Schematron} generates validation rules and validates XML documents according to them.
With RDF validation, one can overcome drawbacks when validating XML documents\footnote{\url{http://www.xmlmind.com/xmleditor/_distrib/doc/xmltool/xsd_structure_limitations.html}}.
It cannot be validated, e.g., if each code of a variable's code list is associated with a category (\emph{R-86}).
Additionally, it cannot be validated that if an element has a specific value, then certain child elements must be present (\emph{R-71}).  
A comprehensive comparison of XML and RDF validation, however, is not within the scope of this paper.

%validation or relational databases: types, relations

%\textbf{RDF Data Cube Vocabulary.}
A well-formed \emph{RDF Data Cube} is an a RDF graph describing one or more instances of \emph{qb:DataSet} for which each of the 22 integrity constraints\footnote{http://www.w3.org/TR/vocab-data-cube/\#wf}, defined within the \emph{QB} specification, passes.
Each integrity constraint is expressed as narrative prose and, where possible, a SPARQL ASK query or query template. 
If the ASK query is applied to an RDF graph then it will return true if that graph contains one or more \emph{QB} instances which violate the corresponding constraint \cite{CyganiakReynolds2014}.
Mader, Haslhofer, and Isaac investigated how to support
taxonomists in improving SKOS vocabularies by pointing out quality
issues that go beyond the integrity constraints defined in the SKOS specification \cite{MaderHaslhoferIsaac2012}.

\section{Conclusion and Future Work}
\tb{ToDO}
In this paper, we showed in form of a complete real world running example how to represent metadata on person-level data (\emph{Disco}), metadata on aggregated data (\emph{QB}), and data on both aggregation levels in a rectangular format (\emph{PHDD}) in RDF and how therefore used vocabularies are interrelated (\textbf{contribution 1}, section \ref{rdf-representation}).
We explained why RDF validation is important in this context and how metadata on person-level data, aggregated data, thesauri, and statistical classifications as well as data on both aggregation levels is validated against constraints to ensure high (meta)data quality\footnote{The first appendix of this paper describing each constraint in detail is available at: \url{http://arxiv.org/abs/1504.04479} \cite{BoschZapilkoWackerowEckert2015}} (\textbf{contribution 2}, section \ref{rdf-validation}). 
We distinguish two validation types:
(1) \emph{Content-Driven Validation} $\mathcal{C}_{C}$ contains the set of constraints ensuring that the data is consistent with the intended syntax, semantics, and integrity of data models (section \ref{complex-constraint-types}).
(2) \emph{Technology-Driven Validation} $\mathcal{C}_{T}$ includes the set of constraints which can be generated automatically out of data models, such as cardinality restrictions, universal and existential quantifications, domains, and ranges (section \ref{basic-constraint-types}).
We determined the default \emph{severity level} for each constraint to indicate how serious the violation of the constraint is
and propose an extensible metric to measure the continuum of severity levels.

We implemented a validation environment (available at \url{http://purl.org/net/rdfval-demo}) to validate RDF data according to constraints expressed my arbitrary constraint languages and to ensure correct syntax, semantics, and integrity of diverse vocabularies such as \emph{Disco, QB, PHDD, SKOS, and XKOS} (section \ref{implementation}).
We exhaustively evaluated the metadata quality of large real world aggregated (\emph{QB}), person-level (\emph{Disco}), and thesauri (\emph{SKOS}) data sets by means of 213 $\mathcal{C}_{C}$ and $\mathcal{C}_{T}$ constraints of the majority of the constraint types.
We validated more than 4.2 billion triples and 15 thousand data sets\footnote{The second appendix of this paper describing the evaluation in detail is available at: \url{http://arxiv.org/abs/1504.04478} \cite{BoschZapilkoWackerowEckert2015-2}.} (section \ref{evaluation}).

\bibliography{../../literature/literature}{}
\bibliographystyle{plain}
\setcounter{tocdepth}{1}
%\listoftodos
\end{document}
